(this["webpackJsonptoken-swap-ui"]=this["webpackJsonptoken-swap-ui"]||[]).push([[0],{115:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return j}));var r=n(25),a=n(28),c=n(2),o=n.n(c),i=n(9),u=n(18),s=n(47),l=n(0),d=n(40),p=n(46),f=n(42),m=n(34),b=n(74),h=function(){var e=Object(i.a)(o.a.mark((function e(t,n,r,a,c){var i,l,h,g,v,y,k,j,O,E,x,S,B,C;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&r[0].account){e.next=3;break}return Object(p.a)({type:"error",message:"Pool doesn't exsist.",description:"Swap trade cancelled"}),e.abrupt("return");case 3:return i=r[0].amount,l=r[1].amount*(1-a),h=c.pubkeys.holdingMints[0].toBase58()===r[0].account.info.mint.toBase58()?c.pubkeys.holdingAccounts[0]:c.pubkeys.holdingAccounts[1],g=h===c.pubkeys.holdingAccounts[0]?c.pubkeys.holdingAccounts[1]:c.pubkeys.holdingAccounts[0],e.next=9,f.b.getMint(t,c.pubkeys.mint);case 9:if((v=e.sent).mintAuthority&&c.pubkeys.feeAccount){e.next=12;break}throw new Error("Mint doesnt have authority");case 12:return y=v.mintAuthority,k=[],j=[],O=[],e.next=18,t.getMinimumBalanceForRentExemption(d.a.span);case 18:return E=e.sent,x=A(k,j,r[0].account,n.publicKey,i+E,O),S=w(n.publicKey,n.publicKey,k,j,E,new u.d(r[1].mintAddress),O),k.push(d.c.createApproveInstruction(Object(m.d)().token,x,y,n.publicKey,[],i)),B=m.a?w(n.publicKey,m.a,k,j,E,c.pubkeys.mint,O):void 0,k.push(Object(b.swapInstruction)(c.pubkeys.account,y,x,h,g,S,c.pubkeys.mint,c.pubkeys.feeAccount,c.pubkeys.program,Object(m.d)().token,i,l,B)),e.next=26,Object(s.b)(t,n,k.concat(j),O);case 26:C=e.sent,Object(p.a)({message:"Trade executed.",type:"success",description:"Transaction - ".concat(C)});case 28:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),g=function(e,t){return t.map((function(t){return f.b.getAccount(e,new u.d(t))}))},v=function(e,t,n){var r=new u.d(e.data.tokenPool);return{pubkeys:{account:e.pubkey,program:t,mint:r,holdingMints:[],holdingAccounts:[e.data.tokenAccountA,e.data.tokenAccountB].map((function(e){return new u.d(e)}))},legacy:!1,raw:e}},y=function(){var e=Object(s.c)(),t=Object(l.useState)([]),n=Object(a.a)(t,2),c=n[0],d=n[1];return Object(l.useEffect)((function(){d([]);var t=function(){var t=Object(i.a)(o.a.mark((function t(n){var r,a,c=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]&&c[1],a=[],t.next=4,e.getProgramAccounts(n);case 4:return t.sent.filter((function(e){return e.account.data.length===b.TokenSwapLayout.span||e.account.data.length===b.TokenSwapLayoutLegacyV0.span})).map((function(t){var c={data:void 0,account:t.account,pubkey:t.pubkey,init:function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};if(t.account.data.length===b.TokenSwapLayoutLegacyV0.span){c.data=b.TokenSwapLayoutLegacyV0.decode(t.account.data);var s=v(c,n);s.legacy=r,a.push(s),c.init=Object(i.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(g(e,[c.data.tokenAccountA,c.data.tokenAccountB]));case 3:n=t.sent,s.pubkeys.holdingMints=[n[0].info.mint,n[1].info.mint],t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}else{c.data=b.TokenSwapLayout.decode(t.account.data);var l=v(c,n);l.legacy=r,l.pubkeys.feeAccount=new u.d(c.data.feeAccount),l.pubkeys.holdingMints=[new u.d(c.data.mintA),new u.d(c.data.mintB)],a.push(l)}return c})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Promise.all([t(Object(m.d)().swap)].concat(Object(r.a)(Object(m.d)().swap_legacy.map((function(e){return t(e,!0)}))))).then((function(e){d(e.flat())}))}),[e]),Object(l.useEffect)((function(){var t=e.onProgramAccountChange(Object(m.d)().swap,function(){var e=Object(i.a)(o.a.mark((function e(t){var n,a,i,s,l,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.accountId,t.accountInfo.data.length===b.TokenSwapLayout.span&&(a=t.accountInfo,i={data:b.TokenSwapLayout.decode(a.data),account:a,pubkey:new u.d(n)},(s=c&&c.findIndex((function(e){return e.pubkeys.account.toBase58()===n})))&&s>=0&&c?(l=c.filter((function(e,t){return t!==s})),d([].concat(Object(r.a)(l),[v(i,Object(m.d)().swap)]))):((p=v(i,Object(m.d)().swap)).pubkeys.feeAccount=new u.d(i.data.feeAccount),p.pubkeys.holdingMints=[new u.d(i.data.mintA),new u.d(i.data.mintB)],d([].concat(Object(r.a)(c),[p]))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"singleGossip");return function(){e.removeProgramAccountChangeListener(t)}}),[e,c]),{pools:c}},k=function(e){var t=Object(s.c)(),n=Object(f.e)().pools,c=Object(l.useState)(),u=Object(a.a)(c,2),d=u[0],p=u[1],m=Object(r.a)(e).sort();return Object(l.useEffect)((function(){Object(i.a)(o.a.mark((function e(){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(void 0),r=n.filter((function(e){return!e.legacy})).filter((function(e){return e.pubkeys.holdingMints.map((function(e){return e.toBase58()})).sort().every((function(e,t){return e===m[t]}))})),a=0;case 3:if(!(a<r.length)){e.next=14;break}return c=r[a],e.next=7,f.b.getAccount(t,c.pubkeys.holdingAccounts[0]);case 7:if(e.sent.info.amount.eqn(0)){e.next=11;break}return p(c),e.abrupt("return");case 11:a++,e.next=3;break;case 14:case"end":return e.stop()}}),e)})))()}),[t].concat(Object(r.a)(m),[n])),d};function w(e,t,n,r,a,c,o,i){var u,s=c.toBase58(),l=Object(f.c)((function(e){return e.info.mint.toBase58()===s&&e.info.owner.toBase58()===t.toBase58()&&(void 0===i||!i.has(e.pubkey.toBase58()))})),p=s===m.c.toBase58();if(l&&!p)u=l.pubkey;else{var b=E(n,e,a,c,t,d.a.span);u=b.publicKey,o.push(b),p&&r.push(d.c.createCloseAccountInstruction(Object(m.d)().token,u,e,e,[]))}return u}function j(e,t,n,r){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(o.a.mark((function e(t,n,r,a){var c,i,u,s,l,d,p,m,b,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.b.getMint(t,a.pubkeys.mint);case 2:return c=e.sent,e.next=5,f.b.getAccount(t,a.pubkeys.holdingAccounts[0]);case 5:return i=e.sent,e.next=8,f.b.getAccount(t,a.pubkeys.holdingAccounts[1]);case 8:if(u=e.sent,c.mintAuthority){e.next=11;break}throw new Error("Mint doesnt have authority");case 11:if(!c.supply.eqn(0)){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,f.b.getMint(t,i.info.mint);case 15:return s=e.sent,e.next=18,f.b.getMint(t,u.info.mint);case 18:if(l=e.sent,s&&l){e.next=21;break}return e.abrupt("return");case 21:return d=i.info.mint.toBase58()===n,p=Math.pow(10,d?l.decimals:s.decimals),m=Math.pow(10,d?s.decimals:l.decimals),b=r*m,h=d?u.info.amount.toNumber()/i.info.amount.toNumber()*b:i.info.amount.toNumber()/u.info.amount.toNumber()*b,e.abrupt("return",h/p);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n,r,a,c){if(!n.info.isNative)return n.pubkey;var o=new u.a;return e.push(u.e.createAccount({fromPubkey:r,newAccountPubkey:o.publicKey,lamports:a,space:d.a.span,programId:Object(m.d)().token})),e.push(d.c.createInitAccountInstruction(Object(m.d)().token,m.c,o.publicKey,r)),t.push(d.c.createCloseAccountInstruction(Object(m.d)().token,o.publicKey,r,r,[])),c.push(o),o.publicKey}function E(e,t,n,r,a,c){var o=new u.a;return e.push(u.e.createAccount({fromPubkey:t,newAccountPubkey:o.publicKey,lamports:n,space:c,programId:Object(m.d)().token})),e.push(d.c.createInitAccountInstruction(Object(m.d)().token,r,o.publicKey,a)),o}},151:function(e){e.exports=JSON.parse('{"mainnet-beta":[{"tokenSymbol":"SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Solana","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"},{"tokenSymbol":"USDT","mintAddress":"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4","tokenName":"Wrapped USDT","icon":"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png"},{"tokenSymbol":"USDC","mintAddress":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","tokenName":"USDC","icon":"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"},{"tokenSymbol":"ORCA","mintAddress":"orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE","tokenName":"Orca","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE/logo.png"},{"tokenSymbol":"RAY","mintAddress":"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R","tokenName":"Raydium","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R/logo.png"},{"tokenSymbol":"FIDA","mintAddress":"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp","tokenName":"Bonfida","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp/logo.svg"},{"tokenSymbol":"DXL","mintAddress":"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z","tokenName":"Dexlab","icon":"https://raw.githubusercontent.com/dexlab-project/assets/master/dexlab/dexlab_symbol_logo.svg"},{"tokenSymbol":"MNGO","mintAddress":"MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac","tokenName":"Mango","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac/token.png"},{"tokenSymbol":"BTC","mintAddress":"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E","tokenName":"Wrapped Bitcoin","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/bitcoin/info/logo.png"},{"tokenSymbol":"ETH","mintAddress":"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk","tokenName":"Wrapped Ethereum","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{"tokenSymbol":"SRM","tokenName":"Serum","mintAddress":"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x476c5E26a75bd202a9683ffD34359C0CC15be0fF/logo.png"},{"tokenSymbol":"1SP","mintAddress":"2zzC22UBgJGCYPdFyo7GDwz7YHq5SozJc1nnBqLU8oZb","tokenName":"1SPACE","icon":"https://1space.me/images/1SP_logo.png"},{"tokenSymbol":"BND","mintAddress":"A4K1NiurCDitDMLBiuDV6oVMftoHJzUMeX5pQcFW7k9S","tokenName":"Bender","icon":"https://raw.githubusercontent.com/solana-labs/token-list/a4373694e907dc8749bdd7a07731257db8f5a39b/assets/mainnet/Bender.JPG"}],"testnet":[{"tokenSymbol":"SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Solana","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"},{"tokenSymbol":"ABC","mintAddress":"D4fdoY5d2Bn1Cmjqy6J6shRHjcs7QNuBPzwEzTLrf7jm","tokenName":"ABC Test","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/bitcoin/info/logo.png"}],"devnet":[{"tokenSymbol":"SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Solana","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"},{"tokenSymbol":"XYZ","mintAddress":"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw","tokenName":"XYZ Test","icon":"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/ethereum/assets/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984/logo.png"},{"tokenSymbol":"ABC","mintAddress":"6z83b76xbSm5UhdG33ePh7QCbLS8YaXCQ9up86tDTCUH","tokenName":"ABC Test","icon":"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/ethereum/assets/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984/logo.png"},{"tokenSymbol":"DEF","mintAddress":"3pyeDv6AV1RQuA6KzsqkZrpsNn4b3hooHrQhGs7K2TYa","tokenName":"DEF Test","icon":"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/ethereum/assets/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984/logo.png"}],"localnet":[{"tokenSymbol":"SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Solana","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"}]}')},215:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return b}));var r=n(2),a=n.n(r),c=n(9),o=n(18);function i(e,t,n,r){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(a.a.mark((function e(t,n,r,c){var o,i,u,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=0,i=0,!(c.length>255)){e.next=15;break}case 3:if(!(c.length-i>255)){e.next=15;break}return u=c.slice(i,i+255),i+=255,console.log("send",(2|o).toString(16),u.length.toString(16),u),e.next=9,t.send(224,n,r,2|o,u);case 9:if(2===e.sent.length){e.next=12;break}throw new Error("Received unexpected reply payload");case 12:o|=1,e.next=3;break;case 15:return s=c.slice(i),console.log("send",o.toString(16),s.length.toString(16),s),e.next=19,t.send(224,n,r,o,s);case 19:return l=e.sent,e.abrupt("return",l.slice(0,l.length-2));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(e|1<<31>>>0)>>>0}function l(t,n){var r;r=void 0!==t?void 0!==n?4:3:2;var a=e.alloc(1+4*r),c=0;return c=a.writeUInt8(r,c),c=a.writeUInt32BE(s(44),c),c=a.writeUInt32BE(s(501),c),r>2&&(c=a.writeUInt32BE(s(t),c),4===r&&(c=a.writeUInt32BE(s(n),c))),a}function d(e,t){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function e(t,n){var r,c,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:l(),c=n.serializeMessage(),e.abrupt("return",f(t,c,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark((function t(n,r){var c,o,u,s=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=s.length>2&&void 0!==s[2]?s[2]:l(),(o=e.alloc(1)).writeUInt8(1,0),u=e.concat([o,c,r]),t.abrupt("return",i(n,6,1,u));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(e){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(a.a.mark((function e(t){var n,r,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:l(),e.next=3,i(t,5,0,n);case 3:return r=e.sent,e.abrupt("return",new o.d(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(20).Buffer)},256:function(e,t){},257:function(e,t){},258:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return f}));var r=n(91),a=n(18),c=n(3),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return c.blob(32,e)},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64";return c.blob(8,e)},u=c.struct([c.u8("isInitialized"),c.u8("nonce"),o("tokenAccountA"),o("tokenAccountB"),o("tokenPool"),i("feesNumerator"),i("feesDenominator")]),s=c.struct([c.u8("isInitialized"),c.u8("nonce"),o("tokenProgramId"),o("tokenAccountA"),o("tokenAccountB"),o("tokenPool"),o("mintA"),o("mintB"),o("feeAccount"),c.u8("curveType"),i("tradeFeeNumerator"),i("tradeFeeDenominator"),i("ownerTradeFeeNumerator"),i("ownerTradeFeeDenominator"),i("ownerWithdrawFeeNumerator"),i("ownerWithdrawFeeDenominator"),c.blob(16,"padding")]),l=function(t,n,r,o,i,u,s,l,d,p,f,m,b,h,g,v,y){var k=[{pubkey:t.publicKey,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1}],w=c.struct([c.u8("instruction"),c.u8("nonce"),c.u8("curveType"),c.nu64("tradeFeeNumerator"),c.nu64("tradeFeeDenominator"),c.nu64("ownerTradeFeeNumerator"),c.nu64("ownerTradeFeeDenominator"),c.nu64("ownerWithdrawFeeNumerator"),c.nu64("ownerWithdrawFeeDenominator"),c.blob(16,"padding")]),j=e.alloc(1024),O=w.encode({instruction:0,nonce:p,curveType:f,tradeFeeNumerator:m,tradeFeeDenominator:b,ownerTradeFeeNumerator:h,ownerTradeFeeDenominator:g,ownerWithdrawFeeNumerator:v,ownerWithdrawFeeDenominator:y},j);return j=j.slice(0,O),new a.g({keys:k,programId:d,data:j})},d=function(t,n,o,u,s,l,d,p,f,m,b,h,g){var v=c.struct([c.u8("instruction"),i("poolTokenAmount"),i("maximumTokenA"),i("maximumTokenB")]),y=e.alloc(v.span);v.encode({instruction:2,poolTokenAmount:new r.a(b).toBuffer(),maximumTokenA:new r.a(h).toBuffer(),maximumTokenB:new r.a(g).toBuffer()},y);var k=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1}];return new a.g({keys:k,programId:f,data:y})},p=function(t,n,o,u,s,l,d,p,f,m,b,h,g,v){var y=c.struct([c.u8("instruction"),i("poolTokenAmount"),i("minimumTokenA"),i("minimumTokenB")]),k=e.alloc(y.span);y.encode({instruction:3,poolTokenAmount:new r.a(h).toBuffer(),minimumTokenA:new r.a(g).toBuffer(),minimumTokenB:new r.a(v).toBuffer()},k);var w=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0}];return u&&w.push({pubkey:u,isSigner:!1,isWritable:!0}),w.push({pubkey:b,isSigner:!1,isWritable:!1}),new a.g({keys:w,programId:m,data:k})},f=function(t,n,o,u,s,l,d,p,f,m,b,h,g){var v=c.struct([c.u8("instruction"),i("amountIn"),i("minimumAmountOut")]),y=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1}];g&&y.push({pubkey:g,isSigner:!1,isWritable:!0});var k=e.alloc(v.span);return v.encode({instruction:1,amountIn:new r.a(b).toBuffer(),minimumAmountOut:new r.a(h).toBuffer()},k),new a.g({keys:y,programId:f,data:k})}}).call(this,n(20).Buffer)},288:function(e,t,n){e.exports=n.p+"static/media/twitter.46c16738.svg"},289:function(e,t,n){e.exports=n.p+"static/media/telegram.85be0578.svg"},290:function(e,t,n){e.exports=n.p+"static/media/github.ef2ea490.svg"},291:function(e,t,n){e.exports=n.p+"static/media/discord.8ad03682.svg"},299:function(e,t,n){e.exports=n(489)},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t){},309:function(e,t){},331:function(e,t){},332:function(e,t){},34:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p}));var r,a,c=n(18),o=new c.d("So11111111111111111111111111111111111111112"),i=new c.d("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),u=new c.d("".concat("4rdog8sEF6BJadd8L2zWgfNKaFK6gHE7tT8iGo1dQANc")),s=new c.d("HfoTxFR1Tm6kGmWgYWD6J7YHVy1UwqSULUGVLXkJqaKN");console.debug("Host address: ".concat(null===u||void 0===u?void 0:u.toBase58())),console.debug("Owner address: ".concat(null===s||void 0===s?void 0:s.toBase58()));var l=[{name:"mainnet-beta",swap:function(){return{current:new c.d("9qvG1zUp8xF1Bi4m6UdRNby1BAAuaDrUxSpv4CmRRMjL"),legacy:[]}}},{name:"testnet",swap:function(){return{current:new c.d("2n2dsFSgmPcZ8jkmBZLGUM2nzuFqcBGQ3JEEj6RJJcEg"),legacy:[new c.d("9tdctNJuFsYZ6VrKfKEuwwbPp4SFdFw3jYBZU8QUtzeX"),new c.d("CrRvVBS4Hmj47TPU3cMukurpmCUYUrdHYxTQBxncBGqw")]}}},{name:"devnet",swap:function(){return{current:new c.d("BSfTAcBdqmvX5iE2PW88WFNNp2DHhLUaBKk5WrnxVkcJ"),legacy:[new c.d("H1E1G7eD5Rrcy43xvDxXCsjkRggz7MWNMLGJ8YNzJ8PM"),new c.d("CMoteLxSPVPoc7Drcggf3QPg3ue8WPpxYyZTg77UGqHo"),new c.d("EEuPz4iZA5reBUeZj6x1VzoiHfYeHMppSCnHZasRFhYo")]}}},{name:"localnet",swap:function(){return{current:new c.d("5rdpyt5iGfr68qt28hkefcFyF4WtyhTwqKDmHSBG8GZx"),legacy:[]}}}],d=function(e){var t=l.find((function(t){return t.name===e}));if(t){var n=t.swap();r=n.current,a=n.legacy}},p=function(){return{token:i,swap:r,swap_legacy:a}}},419:function(e,t){},42:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return L})),n.d(t,"g",(function(){return W})),n.d(t,"f",(function(){return P})),n.d(t,"h",(function(){return D})),n.d(t,"e",(function(){return z})),n.d(t,"d",(function(){return U}));var r=n(25),a=n(28),c=n(39),o=n(2),i=n.n(o),u=n(27),s=n(9),l=n(29),d=n(26),p=n(54),f=n(55),m=n(120),b=n(0),h=n.n(b),g=n(47),v=n(88),y=n(18),k=n(34),w=n(40),j=n(115),O=n(46),A=h.a.createContext(null),E=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,n.type)).id=void 0,r.id=e,r}return n}(Object(m.a)(Event));E.type="AccountUpdate";var x=new(function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"raiseAccountUpdated",value:function(e){this.dispatchEvent(new E(e))}}]),n}(Object(m.a)(EventTarget))),S=new Map,B=new Map,C=new Map,N=function(){var t=Object(s.a)(i.a.mark((function t(n,r){var a,c,o,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getAccountInfo(r);case 2:if(null!==(a=t.sent)){t.next=5;break}throw new Error("Failed to find mint account");case 5:return c=e.from(a.data),o=R(c),s={pubkey:r,account:Object(u.a)({},a),info:o},t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),I=function(){var t=Object(s.a)(i.a.mark((function t(n,r){var a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getAccountInfo(r);case 2:if(null!==(a=t.sent)){t.next=5;break}throw new Error("Failed to find mint account");case 5:return c=e.from(a.data),t.abrupt("return",G(c));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),T={getAccount:function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="string"===typeof n?new y.d(n):n,a=r.toBase58(),!(c=C.get(a))){e.next=5;break}return e.abrupt("return",c);case 5:if(!(o=B.get(a))){e.next=8;break}return e.abrupt("return",o);case 8:return o=N(t,r).then((function(e){return B.delete(a),C.set(a,e),e})),B.set(a,o),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMint:function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="string"===typeof n?new y.d(n):n,!(a=S.get(r.toBase58()))){e.next=4;break}return e.abrupt("return",a);case 4:return c=I(t,r),S.set(r.toBase58(),c),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},_=function(e){var t,n=Object(c.a)(C.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(a){n.e(a)}finally{n.f()}};function F(e,t){if(t)return{pubkey:e,account:t,info:{mint:k.c,owner:e,amount:new w.d(t.lamports),delegate:null,delegatedAmount:new w.d(0),isInitialized:!0,isFrozen:!1,isNative:!0,rentExemptReserve:null,closeAuthority:null}}}var K=new Set,M=function(){var e=Object(s.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return K.add(n.toBase58()),e.next=5,t.getTokenAccountsByOwner(n,{programId:Object(k.d)().token});case 5:e.sent.value.map((function(e){var t=R(e.account.data);return{pubkey:e.pubkey,account:Object(u.a)({},e.account),info:t}})).forEach((function(e){C.set(e.pubkey.toBase58(),e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function L(t){var n=t.children,c=void 0===n?null:n,o=Object(g.c)(),i=Object(v.b)(),s=i.wallet,l=i.connected,d=Object(b.useState)([]),p=Object(a.a)(d,2),f=p[0],m=p[1],O=Object(b.useState)([]),E=Object(a.a)(O,2),B=E[0],N=E[1],I=function(){var e=Object(g.c)(),t=Object(v.b)().wallet,n=Object(b.useState)(),r=Object(a.a)(n,2),c=r[0],o=r[1];return Object(b.useEffect)((function(){e&&(null===t||void 0===t?void 0:t.publicKey)&&(e.getAccountInfo(t.publicKey).then((function(e){e&&o(e)})),e.onAccountChange(t.publicKey,(function(e){e&&o(e)})))}),[o,t,t.publicKey,e]),{nativeAccount:c}}().nativeAccount,T=Object(j.d)().pools,_=Object(b.useCallback)((function(){return Object(r.a)(C.values()).filter((function(e){return e.info.owner.toBase58()===s.publicKey.toBase58()}))}),[s]);return Object(b.useEffect)((function(){N([F(s.publicKey,I)].concat(Object(r.a)(f)).filter((function(e){return void 0!==e})))}),[I,s,f]),Object(b.useEffect)((function(){if(o&&s&&s.publicKey){M(o,k.a),M(o,s.publicKey).then((function(){m(_())}));var t=o.onProgramAccountChange(Object(k.d)().token,(function(t){var n=t.accountId;if(t.accountInfo.data.length===w.a.span){var r=R(t.accountInfo.data),a={pubkey:new y.d(t.accountId),account:Object(u.a)({},t.accountInfo),info:r};(K.has(a.info.owner.toBase58())||C.has(n))&&(C.set(n,a),m(_()),x.raiseAccountUpdated(n))}else if(t.accountInfo.data.length===w.b.span){if(S.has(n)){var c=e.from(t.accountInfo.data),o=G(c);S.set(n,new Promise((function(e){return e(o)}))),x.raiseAccountUpdated(n)}x.raiseAccountUpdated(n)}}),"singleGossip");return function(){o.removeProgramAccountChangeListener(t)}}m([])}),[o,l,null===s||void 0===s?void 0:s.publicKey]),h.a.createElement(A.Provider,{value:{userAccounts:B,pools:T,nativeAccount:I}},c)}function W(){return{account:Object(b.useContext)(A).nativeAccount}}function P(e){var t=Object(g.c)(),n=Object(b.useState)(),r=Object(a.a)(n,2),c=r[0],o=r[1];return Object(b.useEffect)((function(){if(e){T.getMint(t,e).then(o).catch((function(e){return Object(O.a)({message:e.message,type:"error"})}));var n=function(n){n.id===e&&T.getMint(t,e).then(o)};return x.addEventListener(E.type,n),function(){x.removeEventListener(E.type,n)}}}),[t,e]),c}function D(){return{userAccounts:Object(b.useContext)(A).userAccounts}}function z(){return{pools:Object(b.useContext)(A).pools}}var U=function(e){var t=D().userAccounts,n=t.findIndex((function(t){return t.info.mint.toBase58()===e}));if(-1!==n)return t[n]},R=function(e){var t=w.a.decode(e);return t.mint=new y.d(t.mint),t.owner=new y.d(t.owner),t.amount=w.d.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new w.d(0)):(t.delegate=new y.d(t.delegate),t.delegatedAmount=w.d.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=w.d.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new y.d(t.closeAuthority),t},G=function(e){if(e.length!==w.b.span)throw new Error("Not a valid Mint");var t=w.b.decode(e);return 0===t.mintAuthorityOption?t.mintAuthority=null:t.mintAuthority=new y.d(t.mintAuthority),t.supply=w.d.fromBuffer(t.supply),t.isInitialized=0!==t.isInitialized,0===t.freezeAuthorityOption?t.freezeAuthority=null:t.freezeAuthority=new y.d(t.freezeAuthority),t}}).call(this,n(20).Buffer)},421:function(e,t){},438:function(e,t,n){},448:function(e,t,n){},457:function(e,t,n){},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n.n(r),c=n(220);function o(e){var t=e.message,n=void 0===t?"":t,r=e.description,o=void 0===r?void 0:r,i=e.txid,u=void 0===i?"":i,s=e.type,l=void 0===s?"info":s,d=e.placement,p=void 0===d?"bottomLeft":d;u&&(o=a.a.createElement(a.a.Fragment,null)),c.a[l]({message:a.a.createElement("span",{style:{color:"black"}},n),description:a.a.createElement("span",{style:{color:"black",opacity:.5}},o),placement:p,style:{backgroundColor:"white"}})}},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return k})),n.d(t,"b",(function(){return w}));var r=n(2),a=n.n(r),c=n(25),o=n(9),i=n(28),u=n(56),s=n(18),l=n(0),d=n.n(l),p=n(34),f=n(46),m=[{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com/"},{name:"testnet",endpoint:Object(s.h)("testnet")},{name:"devnet",endpoint:Object(s.h)("devnet")},{name:"localnet",endpoint:"http://127.0.0.1:8899"}],b=m[0].endpoint,h=d.a.createContext({endpoint:b,setEndpoint:function(){},slippage:.25,setSlippage:function(e){},connection:new s.b(b,"recent"),sendConnection:new s.b(b,"recent"),env:m[0].name});function g(e){var t,n=e.children,r=void 0===n?void 0:n,a=Object(u.g)("connectionEndpts",m[0].endpoint),c=Object(i.a)(a,2),o=c[0],f=c[1],b=Object(u.g)("slippage",.25.toString()),g=Object(i.a)(b,2),v=g[0],y=g[1],k=Object(l.useMemo)((function(){return new s.b(o,"recent")}),[o]),w=Object(l.useMemo)((function(){return new s.b(o,"recent")}),[o]),j=(null===(t=m.find((function(e){return e.endpoint===o})))||void 0===t?void 0:t.name)||m[0].name;return Object(p.e)(j),Object(l.useEffect)((function(){var e=k.onAccountChange((new s.a).publicKey,(function(){}));return function(){k.removeAccountChangeListener(e)}}),[k]),Object(l.useEffect)((function(){var e=k.onSlotChange((function(){return null}));return function(){k.removeSlotChangeListener(e)}}),[k]),Object(l.useEffect)((function(){var e=w.onAccountChange((new s.a).publicKey,(function(){}));return function(){w.removeAccountChangeListener(e)}}),[w]),Object(l.useEffect)((function(){var e=w.onSlotChange((function(){return null}));return function(){w.removeSlotChangeListener(e)}}),[w]),d.a.createElement(h.Provider,{value:{endpoint:o,setEndpoint:f,slippage:parseFloat(v),setSlippage:function(e){return y(e.toString())},connection:k,sendConnection:w,env:j}},r)}function v(){return Object(l.useContext)(h).connection}function y(){var e=Object(l.useContext)(h);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint,env:e.env}}function k(){var e=Object(l.useContext)(h);return{slippage:e.slippage,setSlippage:e.setSlippage}}var w=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r,o){var i,u,l,d,p,m,b,h,g=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=!(g.length>4&&void 0!==g[4])||g[4],l=new s.f,r.forEach((function(e){return l.add(e)})),e.next=5,t.getRecentBlockhash("max");case 5:return l.recentBlockhash=e.sent.blockhash,(i=l).setSigners.apply(i,[n.publicKey].concat(Object(c.a)(o.map((function(e){return e.publicKey}))))),o.length>0&&(d=l).partialSign.apply(d,Object(c.a)(o)),e.next=10,n.signTransaction(l);case 10:return l=e.sent,p=l.serialize(),m={skipPreflight:!0,commitment:"singleGossip"},e.next=15,t.sendRawTransaction(p,m);case 15:if(b=e.sent,!u){e.next=23;break}return e.next=19,t.confirmTransaction(b,m&&m.commitment);case 19:if(!(h=e.sent.value).err){e.next=23;break}throw Object(f.a)({message:"Transaction failed...",description:"".concat(b),type:"error"}),new Error("Raw transaction ".concat(b," failed (").concat(JSON.stringify(h),")"));case 23:return e.abrupt("return",b);case 24:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},488:function(e,t,n){},489:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(36),o=n.n(c),i=(n(304),n(305),n(107)),u=n(64),s=n(88),l=n(47),d=n(42),p=n(2),f=n.n(p),m=n(9),b=n(28),h=n(115),g=n(56),v=a.a.createContext(null);function y(e){var t=e.children,n=void 0===t?null:t,c=Object(l.c)(),o=Object(r.useState)(""),i=Object(b.a)(o,2),u=i[0],s=i[1],p=Object(r.useState)(""),y=Object(b.a)(p,2),k=y[0],w=y[1],j=Object(r.useState)(""),O=Object(b.a)(j,2),A=O[0],E=O[1],x=Object(r.useState)(""),S=Object(b.a)(x,2),B=S[0],C=S[1],N=Object(r.useState)(""),I=Object(b.a)(N,2),T=I[0],_=I[1],F=Object(d.d)(A),K=Object(d.d)(B),M=Object(d.f)(A),L=Object(d.f)(B),W=Object(h.c)([A,B]),P=Object(r.useCallback)(Object(m.a)(f.a.mark((function e(){var t,n,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(W&&A&&B)){e.next=6;break}return T===A?(r=A,t=w,n=parseFloat(u)):(r=B,t=s,n=parseFloat(k)),e.next=4,Object(h.a)(c,r,n,W);case 4:void 0!==(a=e.sent)&&Number.isFinite(a)?t(a.toFixed(2)):t("");case 6:case"end":return e.stop()}}),e)}))),[W,A,B,s,w,u,k,c,T]);Object(r.useEffect)((function(){P()}),[k,u,T,P]);var D=function(e,t){return parseFloat(e)*Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0)};return a.a.createElement(v.Provider,{value:{A:{mintAddress:A,account:F,mint:M,amount:u,setAmount:s,setMint:E,convertAmount:function(){return D(u,M)},sufficientBalance:function(){return void 0!==F&&Object(g.a)(F,M)>=parseFloat(u)}},B:{mintAddress:B,account:K,mint:L,amount:k,setAmount:w,setMint:C,convertAmount:function(){return D(k,L)},sufficientBalance:function(){return void 0!==K&&Object(g.a)(K,L)>=parseFloat(k)}},setLastTypedAccount:_}},n)}var k=n(498),w=n(82),j=n(491),O=n(490),A=n(25),E=n(493),x=n(26),S=n(29),B=n(54),C=n(55),N=n(496),I=function(e){Object(B.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(x.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onChange=function(t){var n=t.target.value;(!isNaN(n)&&/^-?\d*(\.\d*)?$/.test(n)||""===n||"-"===n)&&e.props.onChange(n)},e.onBlur=function(){var t=e.props,n=t.value,r=t.onBlur,a=t.onChange,c=n;"."!==n.charAt(n.length-1)&&"-"!==n||(c=n.slice(0,-1)),a(c.replace(/0*(\d+)/,"$1")),r&&r()},e}return Object(S.a)(n,[{key:"render",value:function(){return a.a.createElement(N.a,Object.assign({},this.props,{onChange:this.onChange,onBlur:this.onBlur,maxLength:25}))}}]),n}(a.a.Component),T=(n(438),n(27)),_=n(273),F=n.n(_),K=(n(448),function(e){var t=e.address,n=Object(r.useRef)();return Object(r.useEffect)((function(){t&&n.current&&(n.current.innerHTML="",n.current.appendChild(F()(16,parseInt(t.slice(0,10),16))))}),[t]),a.a.createElement("div",{className:"identicon-wrapper",ref:n,style:e.style})}),M=function(e){var t=Object(l.d)().env,n=Object(g.c)(t,e.mintAddress);return n?a.a.createElement("img",{alt:"Token icon",key:e.mintAddress,width:"20",height:"20",src:n,style:Object(T.a)({marginRight:"0.5rem",marginTop:"0.11rem",borderRadius:"1rem",backgroundColor:"white",backgroundClip:"padding-box"},e.style)}):a.a.createElement(K,{address:e.mintAddress,style:Object(T.a)({marginRight:"0.5rem"},e.style)})},L=function(e){return a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(M,{mintAddress:e.mintA,style:Object(T.a)({marginRight:"-0.5rem"},e.style)}),a.a.createElement(M,{mintAddress:e.mintB}))},W=n(151),P=E.a.Option,D=function(e){var t=Object(d.h)().userAccounts,n=Object(d.e)().pools,r=Object(d.f)(e.mint),c=Object(l.d)().env,o=W[c].map((function(e){return a.a.createElement(P,{key:e.mintAddress,value:e.mintAddress,title:e.mintAddress},a.a.createElement("div",{key:e.mintAddress,style:{display:"flex",alignItems:"center"}},a.a.createElement(M,{mintAddress:e.mintAddress}),e.tokenSymbol))})),i=t.sort((function(e,t){return t.info.amount.gt(e.info.amount)?1:-1})).reduce((function(e,t){var r=t.info.mint.toBase58();if(Object(g.e)(c,r))return e;var a=n.find((function(e){return e&&e.pubkeys.mint.toBase58()===r}));return e.set(r,(e.get(r)||[]).concat([{account:t,pool:a}])),e}),new Map),u=Object(A.a)(i.keys()).map((function(e){var t=i.get(e);if(t&&!(t.length<=0)){var n=t[0];if(!n.account.info.amount.eqn(0)){var r,o;if(n.pool){r=Object(g.b)(c,n.pool);var u=n.pool.pubkeys.holdingMints.map((function(e){return e.toBase58()})).sort();o=a.a.createElement(L,{mintA:u[0],mintB:u[1]})}else r=Object(g.d)(c,e),o=a.a.createElement(M,{mintAddress:e});return a.a.createElement(P,{key:n.account.pubkey.toBase58(),value:e,title:e},a.a.createElement("div",{key:e,style:{display:"flex",alignItems:"center"}},o,r))}}})),s=function(){var n=null===t||void 0===t?void 0:t.find((function(t){return t.info.mint.toBase58()===e.mint}));return n&&r?n.info.amount.toNumber()/Math.pow(10,r.decimals):0};return a.a.createElement(j.a,{className:"ccy-input",style:{borderRadius:20,margin:15},bodyStyle:{padding:0}},a.a.createElement("div",{className:"ccy-input-header"},a.a.createElement("div",{className:"ccy-input-header-left"},e.title),a.a.createElement("div",{className:"ccy-input-header-right",onClick:function(t){return e.onInputChange&&e.onInputChange(s())}},s().toFixed(6))),a.a.createElement("div",{className:"ccy-input-header",style:{padding:"0px 10px 5px 7px"}},a.a.createElement(I,{value:e.amount,onChange:function(t){e.onInputChange&&e.onInputChange(t)},style:{fontSize:20,boxShadow:"none",borderColor:"transparent",outline:"transpaernt"},placeholder:"0.00"}),a.a.createElement("div",{className:"ccy-input-header-right",style:{display:"felx"}},a.a.createElement(E.a,{size:"large",style:{minWidth:80},placeholder:"CCY",value:e.mint,dropdownMatchSelectWidth:!0,dropdownStyle:{minWidth:200},onChange:function(t){e.onMintChange&&e.onMintChange(t)}},[].concat(Object(A.a)(o),Object(A.a)(u))))))},z=n(499),U=n(46),R=function(e){return"Insufficient ".concat(e," funds")},G=(n(457),a.a.createElement(z.a,{style:{fontSize:24},spin:!0})),V=function(){var e,t,n=Object(s.b)(),c=n.wallet,o=n.connected,i=Object(l.c)(),u=Object(r.useState)(!1),d=Object(b.a)(u,2),p=d[0],y=d[1],k=Object(r.useContext)(v),j=k.A,A=k.B,E=k.setLastTypedAccount,x=Object(h.c)([null===j||void 0===j?void 0:j.mintAddress,null===A||void 0===A?void 0:A.mintAddress]),S=Object(l.e)().slippage,B=Object(l.d)().env,C=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.account||!A.mintAddress){e.next=14;break}return e.prev=1,y(!0),t=[{account:j.account,mintAddress:j.mintAddress,amount:j.convertAmount()},{mintAddress:A.mintAddress,amount:A.convertAmount()}],e.next=6,Object(h.b)(i,c,t,S,x);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(U.a)({description:"Please try again and approve transactions from your wallet",message:"Swap trade cancelled.",type:"error"});case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(D,{title:"From",onInputChange:function(e){j.amount!==e&&E(j.mintAddress),j.setAmount(e)},amount:j.amount,mint:j.mintAddress,onMintChange:function(e){j.setMint(e)}}),a.a.createElement(w.a,{type:"primary",className:"swap-button",onClick:function(){var e=j.mintAddress,t=j.amount;j.setMint(A.mintAddress),j.setAmount(A.amount),A.setMint(e),A.setAmount(t)}},"\u21c5"),a.a.createElement(D,{title:"To",onInputChange:function(e){A.amount!==e&&E(A.mintAddress),A.setAmount(e)},amount:A.amount,mint:A.mintAddress,onMintChange:function(e){A.setMint(e)}})),a.a.createElement(w.a,{className:"trade-button",type:"primary",size:"large",onClick:o?C:c.connect,style:{width:"93%"},disabled:o&&(p||!j.account||!A.mintAddress||j.account===A.account||!j.sufficientBalance()||!x)},function(e,t,n,r,a){var c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return t?r.mintAddress?r.amount?a.mintAddress?a.amount?r.sufficientBalance()?c||a.sufficientBalance()?e:R(Object(g.d)(n,a.mintAddress)):R(Object(g.d)(n,r.mintAddress)):"Enter an amount":"Select a token":"Enter an amount":"Select a token":"Connect Wallet"}(x?"Swap":(e=Object(g.d)(B,j.mintAddress),t=Object(g.d)(B,A.mintAddress),"Pool ".concat(e,"/").concat(t," doesn't exsist")),o,B,j,A,!0),p&&a.a.createElement(O.a,{indicator:G,className:"trade-spinner"})))},J=function(){var e=Object(l.e)(),t=e.slippage,n=e.setSlippage,c=100*t,o=Object(r.useState)(c.toString()),i=Object(b.a)(o,2),u=i[0],s=i[1];Object(r.useEffect)((function(){s(c.toString())}),[t,c]);var d={margin:5};return a.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},[.1,.5,1].map((function(e){return a.a.createElement(w.a,{key:e.toString(),style:d,type:(t=e,t===c?"primary":"default"),onClick:function(){return n(e/100)}},e,"%");var t})),a.a.createElement("div",{style:{padding:"3px 10px 3px 3px",border:"1px solid #434343"}},a.a.createElement(I,{className:"slippage-input",size:"small",placeholder:u,value:u,style:{width:50,fontSize:14,boxShadow:"none",borderColor:"transparent",outline:"transpaernt"},onChange:function(e){var t=Math.min(parseFloat(e),25),r=Number.isNaN(t)?.1.toString():t.toString();s(r);var a=parseFloat(r)/100;Number.isFinite(a)&&n(a)}}),"%"))},Y=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(J,null))},Z=n(501),H=n(495),q=n(18),Q=function(e){var t=Object(s.b)().wallet,n=Object(d.g)().account;return t&&t.publicKey?a.a.createElement("div",{className:"wallet-wrapper"},a.a.createElement("span",null,(((null===n||void 0===n?void 0:n.lamports)||0)/q.c).toFixed(6)," SOL"),a.a.createElement("div",{className:"wallet-key"},Object(g.f)("".concat(t.publicKey)),a.a.createElement(K,{address:t.publicKey.toBase58(),style:{marginLeft:"0.5rem"}}))):null},X=n(497),$=n(500),ee=n(492),te=function(e){var t,n,r=e.type,c=e.code,o="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58();if(!o)return null;var i=null!==(n=e.length)&&void 0!==n?n:9;return a.a.createElement("a",{href:"https://explorer.solana.com/".concat(r,"/").concat(o),target:"_blank",title:o,style:e.style},c?a.a.createElement(ee.a.Text,{style:e.style,code:!0},Object(g.f)(o,i)):Object(g.f)(o,i))},ne=function(e){var t,n=e.children,r=Object(s.b)(),c=r.connected,o=r.wallet,i=r.select,u=r.disconnect,l=c&&(null===o||void 0===o||null===(t=o.publicKey)||void 0===t?void 0:t.toBase58())||"",d=a.a.createElement(H.a,{style:{textAlign:"right"}},c&&a.a.createElement(te,{type:"account",address:l,style:{padding:12}}),a.a.createElement(H.a.Item,{key:"3",onClick:i},"Change Wallet"),c&&a.a.createElement(H.a.Item,{key:"2",style:{color:"rgba(255, 0, 0, 0.7)"},onClick:u},"Disconnect"));return c?a.a.createElement(X.a,{overlay:d,trigger:["hover"]},a.a.createElement("div",{style:{cursor:"pointer"}},n)):a.a.createElement(X.a.Button,{type:"primary",onClick:c?u:i,overlay:d,icon:null},c?"Disconnect":a.a.createElement(a.a.Fragment,null,a.a.createElement($.a,null),a.a.createElement("span",{style:{marginLeft:"5px"}},"Connect Wallet")))},re=function(e){var t=Object(u.f)(),n=t.pathname;return t.pathname.includes("/trade")&&(n="/trade"),a.a.createElement("div",{className:"App-Bar"},a.a.createElement("div",{className:"App-Bar-left"},a.a.createElement("div",{className:"App-logo"}),a.a.createElement(H.a,{mode:"horizontal",selectedKeys:[n]},a.a.createElement(H.a.Item,{key:"/home"},a.a.createElement("a",{href:"https://1space.me/"},"Home")),a.a.createElement(H.a.Item,{key:"/"},a.a.createElement(i.b,{to:{pathname:"/"},isActive:function(e,t){return t.pathname.includes("/")}},"Swap")),a.a.createElement(H.a.Item,{disabled:!0,key:"/add"},a.a.createElement(i.b,{to:{pathname:"/add"},isActive:function(e,t){return t.pathname.includes("/add")}},"Liquidity")),a.a.createElement(H.a.Item,{disabled:!0,key:"/dex"},a.a.createElement("a",{href:"https://app.1space.me/",target:"_blank",rel:"noopener noreferrer"},"Trading")),a.a.createElement(H.a.Item,{disabled:!0,key:"/staking"},a.a.createElement(i.b,{to:{pathname:"/staking"}},"Staking")),a.a.createElement(H.a.Item,{disabled:!0,key:"/toolkit"},a.a.createElement(i.b,{to:{pathname:"/toolkit"}},"Farms")),a.a.createElement(H.a.Item,{disabled:!0,key:"nft"},"NFT"),a.a.createElement(H.a.Item,{disabled:!0,key:"/dashboard"},a.a.createElement(i.b,{to:{pathname:"/dashboard"}},"Dashboard")),a.a.createElement(H.a.Item,{disabled:!0,key:"/doc"},a.a.createElement("a",{href:"https://app.1space.me/",target:"_blank",rel:"noopener noreferrer"},"Docs"))),e.left),a.a.createElement("div",{className:"App-Bar-right"},a.a.createElement(ne,null,a.a.createElement(Q,null)),e.right))},ae=n(288),ce=n.n(ae),oe=n(289),ie=n.n(oe),ue=n(290),se=n.n(ue),le=n(291),de=n.n(le),pe=(n(488),function(){return a.a.createElement("div",{className:"socials"},a.a.createElement("div",{className:"flex"},a.a.createElement("div",{className:"icon"},a.a.createElement("a",{href:"https://t.me/Onespace_tech",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{src:ie.a,alt:""}))),a.a.createElement("div",{className:"icon"},a.a.createElement("a",{href:"https://discord.com/invite/xud97tybPc",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{width:"30",src:de.a,alt:""}))),a.a.createElement("div",{className:"icon"},a.a.createElement("a",{href:"https://twitter.com/1space_me",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{src:ce.a,alt:""}))),a.a.createElement("div",{className:"icon"},a.a.createElement("a",{href:"https://github.com/Onespace-Project",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{src:se.a,alt:""})))))}),fe=function(e){var t=function(){return a.a.createElement(V,null)},n=Object(u.f)();Object(u.e)(),n.pathname.indexOf("add");return a.a.createElement(a.a.Fragment,null,a.a.createElement(re,{right:a.a.createElement(k.a,{placement:"topRight",title:"Slippage",content:a.a.createElement(Y,null),trigger:"click"},a.a.createElement(w.a,{shape:"circle",size:"large",type:"text",icon:a.a.createElement(Z.a,null)}))}),a.a.createElement("div",null,a.a.createElement(j.a,{className:"exchange-card",headStyle:{padding:0},bodyStyle:{position:"relative",padding:"0 0px 20px"}},t()),a.a.createElement(pe,null)))};function me(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{basename:"/"},a.a.createElement(l.a,null,a.a.createElement(s.a,null,a.a.createElement(d.a,null,a.a.createElement(y,null,a.a.createElement(u.a,{exact:!0,path:"/",component:fe}),a.a.createElement(u.a,{exact:!0,path:"/add",component:fe})))))))}var be=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(me,null),a.a.createElement("div",{className:"social-buttons"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n(28),a=n(0),c=n(151),o=Object.keys(c).reduce((function(e,t){var n=c[t].reduce((function(e,t){return e.set(t.mintAddress,t),e}),new Map);return e.set(t,n),e}),new Map);function i(e,t){var n=Object(a.useState)((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),c=Object(r.a)(n,2),o=c[0],i=c[1],u=Object(a.useCallback)((function(t){o!==t&&(i(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[o,e]);return[o,u]}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.substring(0,t),"...").concat(e.substring(44-t))}function s(e,t){var n,r,a=null===(n=o.get(e))||void 0===n||null===(r=n.get(t))||void 0===r?void 0:r.tokenSymbol;return a||u(t).substring(10).toUpperCase()}function l(e,t){var n,r;return null===(n=o.get(e))||void 0===n||null===(r=n.get(t))||void 0===r?void 0:r.icon}function d(e,t){return t.pubkeys.holdingMints.map((function(e){return e.toBase58()})).sort().map((function(t){return s(e,t)})).join("/")}function p(e,t){var n;return!!(null===(n=o.get(e))||void 0===n?void 0:n.get(t))}function f(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var a=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return(null===(n=e.info.amount)||void 0===n?void 0:n.toNumber())/a*r}},74:function(e,t,n){"use strict";var r=n(256);n.o(r,"TokenSwapLayout")&&n.d(t,"TokenSwapLayout",(function(){return r.TokenSwapLayout})),n.o(r,"TokenSwapLayoutLegacyV0")&&n.d(t,"TokenSwapLayoutLegacyV0",(function(){return r.TokenSwapLayoutLegacyV0})),n.o(r,"createInitSwapInstruction")&&n.d(t,"createInitSwapInstruction",(function(){return r.createInitSwapInstruction})),n.o(r,"depositInstruction")&&n.d(t,"depositInstruction",(function(){return r.depositInstruction})),n.o(r,"swapInstruction")&&n.d(t,"swapInstruction",(function(){return r.swapInstruction})),n.o(r,"withdrawInstruction")&&n.d(t,"withdrawInstruction",(function(){return r.withdrawInstruction}));var a=n(257);n.o(a,"TokenSwapLayout")&&n.d(t,"TokenSwapLayout",(function(){return a.TokenSwapLayout})),n.o(a,"TokenSwapLayoutLegacyV0")&&n.d(t,"TokenSwapLayoutLegacyV0",(function(){return a.TokenSwapLayoutLegacyV0})),n.o(a,"createInitSwapInstruction")&&n.d(t,"createInitSwapInstruction",(function(){return a.createInitSwapInstruction})),n.o(a,"depositInstruction")&&n.d(t,"depositInstruction",(function(){return a.depositInstruction})),n.o(a,"swapInstruction")&&n.d(t,"swapInstruction",(function(){return a.swapInstruction})),n.o(a,"withdrawInstruction")&&n.d(t,"withdrawInstruction",(function(){return a.withdrawInstruction}));var c=n(258);n.d(t,"TokenSwapLayout",(function(){return c.a})),n.d(t,"TokenSwapLayoutLegacyV0",(function(){return c.b})),n.d(t,"createInitSwapInstruction",(function(){return c.c})),n.d(t,"depositInstruction",(function(){return c.d})),n.d(t,"swapInstruction",(function(){return c.e})),n.d(t,"withdrawInstruction",(function(){return c.f}))},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return F}));var r=n(28),a=n(0),c=n.n(a),o=n(265),i=n(494),u=n(82),s=n(2),l=n.n(s),d=n(9),p=n(26),f=n(29),m=n(54),b=n(55),h=n(81),g=n.n(h),v=n(267),y=n(46),k=n(215),w=n(18),j=new w.d("11111111111111111111111111111111"),O=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this))._connecting=void 0,e._publicKey=void 0,e._transport=void 0,e._connecting=!1,e._publicKey=null,e._transport=null,e}return Object(f.a)(n,[{key:"signAllTransactions",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=0;case 2:if(!(r<t.length)){e.next=11;break}return a=t[r],e.next=6,this.signTransaction(a);case 6:c=e.sent,n.push(c);case 8:r++,e.next=2;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._transport&&this._publicKey){e.next=2;break}throw new Error("Not connected to Ledger");case 2:return e.next=4,Object(k.b)(this._transport,t);case 4:return n=e.sent,t.addSignature(this._publicKey,n),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._connecting){e.next=2;break}return e.abrupt("return");case 2:return this._connecting=!0,e.prev=3,e.next=6,v.a.create();case 6:return this._transport=e.sent,e.next=9,Object(k.a)(this._transport);case 9:this._publicKey=e.sent,this.emit("connect",this._publicKey),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),Object(y.a)({message:"Ledger Error",description:e.t0.message}),e.next=18,this.disconnect();case 18:return e.prev=18,this._connecting=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,13,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!this._transport){e.next=6;break}return e.next=4,this._transport.close();case 4:this._transport=null,t=!0;case 6:this._connecting=!1,this._publicKey=null,t&&this.emit("disconnect");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publicKey",get:function(){return this._publicKey||j}},{key:"connected",get:function(){return null!==this._publicKey}},{key:"autoApprove",get:function(){return!1}}]),n}(g.a),A=n(69),E=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this))._publicKey=void 0,e._onProcess=void 0,e._connected=void 0,e._onProcess=!1,e._connected=!1,e.connect=e.connect.bind(Object(A.a)(e)),e}return Object(f.a)(n,[{key:"signAllTransactions",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=window.solong).signAllTransactions){e.next=5;break}return e.abrupt("return",n.signAllTransactions(t));case 5:r=[],a=0;case 7:if(!(a<t.length)){e.next=16;break}return c=t[a],e.next=11,n.signTransaction(c);case 11:o=e.sent,r.push(o);case 13:a++,e.next=7;break;case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.solong.signTransaction(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=this;this._onProcess||(void 0!==window.solong?(this._onProcess=!0,window.solong.selectAccount().then((function(t){e._publicKey=new w.d(t),e._connected=!0,e.emit("connect",e._publicKey)})).catch((function(){e.disconnect()})).finally((function(){e._onProcess=!1}))):Object(y.a)({message:"Solong Error",description:"Please install solong wallet from Chrome "}))}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=void 0,this._connected=!1,this.emit("disconnect"))}},{key:"connected",get:function(){return this._connected}},{key:"autoApprove",get:function(){return!1}},{key:"publicKey",get:function(){return this._publicKey||j}}]),n}(g.a),x=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this))._provider=void 0,e.connect=Object(d.a)(l.a.mark((function t(){var n,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._provider){t.next=2;break}return t.abrupt("return");case 2:if(!(null===(n=window)||void 0===n||null===(r=n.solana)||void 0===r?void 0:r.isPhantom)){t.next=6;break}a=window.solana,t.next=9;break;case 6:return window.open("https://phantom.app/","_blank"),Object(y.a)({message:"Phantom Error",description:"Please install Phantom wallet from Chrome "}),t.abrupt("return");case 9:if(a.on("connect",(function(){e._provider=a,e.emit("connect")})),a.isConnected){t.next=13;break}return t.next=13,a.connect();case 13:e._provider=a,e.emit("connect");case 15:case"end":return t.stop()}}),t)}))),e.connect=e.connect.bind(Object(A.a)(e)),e}return Object(f.a)(n,[{key:"signAllTransactions",value:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signAllTransactions(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signTransaction(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){this._provider&&(this._provider.disconnect(),this._provider=void 0,this.emit("disconnect"))}},{key:"connected",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.isConnected)||!1}},{key:"autoApprove",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.autoApprove)||!1}},{key:"publicKey",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.publicKey)||j}}]),n}(g.a),S=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this))._publicKey=void 0,e._onProcess=void 0,e._connected=void 0,e._onProcess=!1,e._connected=!1,e.connect=e.connect.bind(Object(A.a)(e)),e}return Object(f.a)(n,[{key:"signAllTransactions",value:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signAllTransactions(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signTransaction(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=this;if(!this._onProcess){if(!this._provider)return window.open("https://mathwallet.org/","_blank"),void Object(y.a)({message:"Math Wallet Error",description:"Please install mathwallet"});this._onProcess=!0,this._provider.getAccount().then((function(t){e._publicKey=new w.d(t),e._connected=!0,e.emit("connect",e._publicKey)})).catch((function(){e.disconnect()})).finally((function(){e._onProcess=!1}))}}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=void 0,this._connected=!1,this.emit("disconnect"))}},{key:"connected",get:function(){return this._connected}},{key:"autoApprove",get:function(){return!1}},{key:"_provider",get:function(){var e,t;if(null===(e=window)||void 0===e||null===(t=e.solana)||void 0===t?void 0:t.isMathWallet)return window.solana}},{key:"publicKey",get:function(){return this._publicKey||j}}]),n}(g.a),B=n(47),C=n(56),N="https://cdn.jsdelivr.net/gh/solana-labs/oyster@main/assets/wallets",I=[{name:"sollet.io",url:"https://www.sollet.io",icon:"".concat(N,"/sollet.svg")},{name:"Solflare",url:"https://solflare.com/access-wallet",icon:"".concat(N,"/solflare.svg")},{name:"Ledger",url:"https://www.ledger.com",icon:"".concat(N,"/ledger.svg"),adapter:O},{name:"Solong",url:"https://www.solong.com",icon:"".concat(N,"/solong.png"),adapter:E},{name:"MathWallet",url:"https://www.mathwallet.org",icon:"".concat(N,"/mathwallet.svg"),adapter:S},{name:"Phantom",url:"https://www.phantom.app",icon:"https://www.phantom.app/img/logo.png",adapter:x}],T=c.a.createContext(null);function _(e){var t,n,s=e.children,l=void 0===s?null:s,d=Object(B.d)().endpoint,p=Object(a.useState)(!1),f=Object(r.a)(p,2),m=f[0],b=f[1],h=Object(C.g)("walletProvider"),g=Object(r.a)(h,2),v=g[0],k=g[1],w=Object(a.useMemo)((function(){return I.find((function(e){return e.url===v}))}),[v]),j=Object(a.useMemo)((function(){if(w)return new(w.adapter||o.a)(v,d)}),[w,v,d]),O=Object(a.useState)(!1),A=Object(r.a)(O,2),E=A[0],x=A[1];Object(a.useEffect)((function(){return j&&(j.on("connect",(function(){if(j.publicKey){console.log("connected"),localStorage.removeItem("feeDiscountKey"),x(!0);var e=j.publicKey.toBase58(),t=e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e;Object(y.a)({message:"Wallet update",description:"Connected to wallet "+t})}})),j.on("disconnect",(function(){x(!1),Object(y.a)({message:"Wallet update",description:"Disconnected from wallet"}),localStorage.removeItem("feeDiscountKey")}))),function(){x(!1),j&&(j.disconnect(),x(!1))}}),[j]),Object(a.useEffect)((function(){return j&&m&&(j.connect(),b(!1)),function(){}}),[j,m]);var S=Object(a.useState)(!1),N=Object(r.a)(S,2),_=N[0],F=N[1],K=Object(a.useCallback)((function(){return F(!0)}),[]),M=Object(a.useCallback)((function(){return F(!1)}),[]);return c.a.createElement(T.Provider,{value:{wallet:j,connected:E,select:K,providerUrl:v,setProviderUrl:k,providerName:null!==(t=null===(n=I.find((function(e){return e.url===v})))||void 0===n?void 0:n.name)&&void 0!==t?t:v}},l,c.a.createElement(i.a,{title:"Select Wallet",okText:"Connect",visible:_,okButtonProps:{style:{display:"none"}},onCancel:M,width:400},I.map((function(e){return c.a.createElement(u.a,{size:"large",type:v===e.url?"primary":"ghost",onClick:function(){k(e.url),b(!0),M()},icon:c.a.createElement("img",{alt:"".concat(e.name),width:20,height:20,src:e.icon,style:{marginRight:8}}),style:{display:"block",width:"100%",textAlign:"left",marginBottom:8}},e.name)}))))}function F(){var e=Object(a.useContext)(T);if(!e)throw new Error("Missing wallet context");var t=e.wallet;return{connected:e.connected,wallet:t,providerUrl:e.providerUrl,setProvider:e.setProviderUrl,providerName:e.providerName,select:e.select,connect:function(){t?t.connect():e.select()},disconnect:function(){null===t||void 0===t||t.disconnect()}}}}},[[299,1,2]]]);